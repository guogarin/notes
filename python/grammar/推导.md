# 推导(comprehension)
## 1. 列表推导(list comprehension)
### 1.1 列表推导式中使用`if/else`
#### 1.1.1 语法介绍
列表推导式总共有两种形式：
```python
# 形式1：
[x for x in data if condition]
```
&emsp;&emsp; 此处`if`主要起条件判断作用，`data`数据中只有满足`if`条件的才会被留下，最后统一生成为一个数据列表
```python
# 形式2：
[exp1 if condition else exp2 for x in data]
```
&emsp;&emsp; 此处`if...else`主要起赋值作用，当`data`中的数据满足`if`条件时将其做exp1处理，否则按照`exp2`处理，最后统一生成为一个数据列表
#### 1.1.2 总结：
&emsp;&emsp; 如果只是想过滤，`if`写在后面；
&emsp;&emsp; 如果想对满足特定条件的值做一些处理，`if`得写在前面。

### 1.2 几个列表推导的问题
&emsp;&emsp; 现有一个只包含数字`0` 到 `9`的`list`，利用列表推导在这个`list`的基础上完成下面的问题。
#### 1.2.1 生成两个新列表，一个只包含奇数，一个只包含偶数
```python
a = [x for x in range(10)]

print([x for x in a if x%2])
print([x for x in a if not x%2])
```
运行结果：
```
[1, 3, 5, 7, 9]
[0, 2, 4, 6, 8]
```
### 1.2.2 生成两个个列表，一个只留下可以被`2`或`3`整除的数，另一个只留下能同时被`2`和`3`整除的数
```python
a = [x for x in range(10)]

print([x for x in a if x%2==0 or x%3==0])
print([x for x in a if x%2==0 and x%3==0])
```
运行结果：
```
[0, 2, 3, 4, 6, 8, 9]
[0, 6]
```

### 1.2.3 生成一个列表，其中 小于5取倒数，其余的取平方
```python
a = [x for x in range(10)]

print([-x if x<5 else x**2 for x in a ])
```
运行结果：
```
[0, -1, -2, -3, -4, 25, 36, 49, 64, 81]
```



&emsp;
&emsp; 
## 2. 字典推导(dictionary comprehension)
`dict1 = {'1': 10, '2': 20, '3': 30, '4' : 40}`
### 2.1 在上面的`dict1`的基础上生成一个新的dic，要求过滤`key`为偶数(奇数)的元素，并将`value`加10
```python
dict1 = {'1': 10, '2': 20, '3': 30, '4' : 40}

print({k:v+10 for k,v in dict1.items() if int(k)%2})
print({k:v+10 for k,v in dict1.items() if not int(k)%2})
```
运行结果：
```
{'1': 20, '3': 40}
{'2': 30, '4': 50}
```

### 2.2 以dict1为基础创建一个新的字典,如果value大于25,则减去10,反之加10
```python
dict1 = {'1': 10, '2': 20, '3': 30, '4' : 40}

print({k:v+10 if v<25 else v-10 for k,v in dict1.items()})
```
运行结果：
```
{'1': 20, '2': 30, '3': 20, '4': 30}
```