## 1. 如何解决 对象析构时 可能存在的 race condition（竞态条件） 的问题？
&emsp;&emsp; 与其他面向对象语言不同， C++要求程序员自己管理对象的生命期， 这在多线程环境下显得尤为困难。 当一个对象能被多个线程同时看到时， 那么对象的销毁时机就会变得模糊不清， 可能出现多种竞态条件（race condition） ：
* 在即将析构一个对象时， 从何而知此刻是否有别的线程正在执行该对象的成员函数？
* 如何保证在执行成员函数期间， 对象不会在另一个线程被析构？
* 在调用某个对象的成员函数之前， 如何得知这个对象还活着？ 它的析构函数会不会碰巧执行到一半？
&emsp;&emsp; 解决这些race condition是C++多线程编程面临的基本问题。muduo库使用 智能指针 `shared_ptr` 和 `weak_ptr` 来解决这个问题。 这也是实现线程安全的Observer模式的必备技术。






&emsp;
&emsp;
## 2. 如何保证线程安全？
① 编写类时保证线程安全
② 对象构造时保证线程安全
https://blog.csdn.net/liuxuejiang158blog/article/details/12891899
③ 销毁时保证线程安全
.TODO:






&emsp;
&emsp;
## 3 
